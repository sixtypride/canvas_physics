<!DOCTYPE html>
<html>
<head>
    <title>Example</title>

    <style>
        body {
            background: #dddddd;
        }

        #canvas {
            background: #ffffff;
            border: thin inset #aaaaaa;
        }
    </style>
</head>

<body>
<canvas id='canvas' width="800" height="600">
    Canvas not supported test
</canvas>
<script>
    //https://github.com/sixtypride/canvas_physics/tree/master/Lecture3
    function Ball() {
        this.x = 0;
        this.y = 0;

        this.radius = 10;
        this.color = "black";
    }

    Ball.prototype = {
        draw: function() {
            context.save();

            context.translate(this.x, this.y);
            context.beginPath();
            context.arc(0, 0, this.radius, 0, Math.PI * 2);
            context.fillStyle = this.color;
            context.fill();

            context.restore();
        }
    };

    var canvas = document.getElementById("canvas");
    var context = canvas.getContext("2d");

    var ball = new Ball();
    ball.x = 100;
    ball.y = 100;

    // 가속도
    var ax = 0;
    // 속력
    var speed = 5;
    // 속도
    var vx = speed;
    var vy = speed;
    // 마찰
    var friction = 1;
    // 중력
    var gravity = 0.4;

    canvas.onmousedown = function() {
        ax = 0.2;
    };

    canvas.onmouseup = function() {
        ax = 0;
    };

    requestAnimationFrame(loop);

    function loop() {

        vy += gravity;

        ball.x += vx;
        ball.y += vy;

        if(ball.x > canvas.width) {
            ball.x = 0;
        }

        render();
        requestAnimationFrame(loop);
    }

    function render() {
        context.clearRect(0,0, canvas.width, canvas.height);

        ball.draw();
    }

</script>
</body>
</html>
